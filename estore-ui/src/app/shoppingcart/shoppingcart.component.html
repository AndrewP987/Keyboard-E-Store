<app-navbar></app-navbar>

<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link
  href="https://fonts.googleapis.com/css2?family=Oswald:wght@200;300&family=Raleway:ital,wght@1,300&display=swap"
  rel="stylesheet"
/>
<link
  rel="stylesheet"
  href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0"
/>
<link
  rel="stylesheet"
  href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@48,400,0,0"
/>
<link
  rel="stylesheet"
  href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@48,400,0,0"
/>
<link
  rel="stylesheet"
  href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@48,400,0,0"
/>
<br />
<br />
<br />
<br />
<h2>Shopping Cart</h2>

<div class="card-grid">
  <div class="card card-custom" *ngFor="let keyboard of user?.userCart">
    <div class="card-body">
      <h2 class="card-title">{{ keyboard.keyboardName }}</h2>
      <p class="card-text">{{ keyboard.price | currency }}</p>
      <p class="card-text">{{ keyboard.size }}</p>
      <p class="card-text">{{ keyboard.switchColor }}</p>
      <div class="input-group input-group-custom">
        <div class="input-group-prepend input-group-prepend-custom">
          <button
            class="profile-button"
            type="button"
            (click)="decreaseQuantity(keyboard)"
          >
            <span class="material-symbols-rounded"> arrow_downward </span>
          </button>
        </div>
        <input
          type="number"
          class="form-control"
          [(ngModel)]="keyboard.quantity"
          [disabled]="keyboard.quantity === 1"
        />
        <div class="input-group-append input-group-append-custom">
          <button
            class="profile-button"
            type="button"
            (click)="increaseQuantity(keyboard)"
          >
            <span class="material-symbols-outlined"> arrow_upward </span>
          </button>
        </div>
      </div>
      <button class="profile-button" (click)="removeFromCart(keyboard)">
        <span class="material-symbols-outlined"> delete </span>
      </button>
    </div>
  </div>
</div>

<div class="total-price">
  <p>Total price: {{ getTotalPrice() | currency }}</p>
  <button class="profile-button" (click)="showCheckoutForm = true">
    Continue to Payment
  </button>
</div>

<div class="mainscreen" *ngIf="showCheckoutForm">
  <!-- <div class="card"> -->
    <div class="rightside">
      <form class = "ccn-pads">
        <h1 class="checkout-color">CheckOut</h1>
        <h2>Payment Information</h2>
        <p>Cardholder Name</p>
        <input type="text" class="inputbox" name="name" />
        <p>Card Number</p>
        <input
          type="number"
          class="inputbox"
          name="card_number"
          id="card_number"
        />
        <p>Card Type</p>
        <select class="inputbox" name="card_type" id="card_type">
          <option value="">--Select a Card Type--</option>
          <option value="Visa">Visa</option>
          <option value="RuPay">RuPay</option>
          <option value="MasterCard">MasterCard</option>
        </select>
        <div class="expcvv">
          <p class="expcvv_text">Expiry</p>
          <input type="date" class="inputbox" name="exp_date" id="exp_date" />

          <p class="expcvv_text2">CVV</p>
          <input type="password" class="inputbox" name="cvv" id="cvv" />
        </div>
        <p></p>
        <button type="submit" class="profile-button" (click)="placeOrder()">
          <span class="material-symbols-rounded"> send </span>
        </button>
        <button
          type="submit"
          class="profile-button"
          (click)="showCheckoutForm = false"
        >
          <span class="material-symbols-rounded"> cancel </span>
        </button>
      </form>
    <!-- </div> -->
  </div>
</div>
